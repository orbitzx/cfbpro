<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CFB Clicker — Logos Clicker</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#ff6b6b; --muted:#9aa4b2; --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{margin:0;min-height:100vh;background:
    radial-gradient(1200px 600px at -10% 10%, rgba(255,107,107,0.06), transparent 6%),
    radial-gradient(1000px 500px at 110% 90%, rgba(99,102,241,0.03), transparent 6%),
    var(--bg); color:#e6eef6; padding:24px; display:flex; gap:20px; align-items:flex-start; justify-content:center;}
  .container{width:1100px; max-width:100%; display:grid; grid-template-columns: 420px 1fr; gap:20px;}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px; padding:18px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03);}
  header{display:flex; align-items:center; justify-content:space-between; margin-bottom:12px}
  h1{font-size:18px; margin:0}
  .score{font-size:28px; font-weight:700; color:var(--accent)}
  .click-area{display:flex; flex-direction:column; align-items:center; gap:12px; padding:18px; background:var(--glass); border-radius:12px;}
  .logo-wrap{width:260px; height:260px; display:grid; place-items:center; border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); transition:transform .12s ease;}
  .logo{max-width:88%; max-height:88%; cursor:pointer; user-select:none;}
  .pops{position:relative;}
  .popup{position:absolute; top:-36px; left:50%; transform:translateX(-50%); background:#0b1220; padding:6px 10px; border-radius:8px; font-weight:700; color:var(--accent); box-shadow:0 4px 14px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03);}
  .controls{display:flex; gap:8px; align-items:center; justify-content:center; flex-wrap:wrap;}
  .btn{background:transparent; border:1px solid rgba(255,255,255,0.05); padding:8px 12px; border-radius:10px; color:var(--muted); cursor:pointer;}
  .btn.primary{background:linear-gradient(90deg,var(--accent), #ff9b6b); color:#06121a; border: none; font-weight:700;}
  .panel{display:flex; flex-direction:column; gap:10px;}
  label{font-size:13px; color:var(--muted)}
  .row{display:flex; gap:10px; align-items:center;}
  .upgrades{display:grid; grid-template-columns:1fr; gap:8px;}
  .upgrade{display:flex; justify-content:space-between; align-items:center; gap:12px; padding:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); border-radius:10px;}
  .muted{color:var(--muted); font-size:13px;}
  select,input[type="text"]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03); background:transparent; color:inherit;}
  .small{font-size:13px}
  .teams-list{max-height:260px; overflow:auto; display:grid; gap:8px; padding-right:6px;}
  .team-item{display:flex; gap:8px; align-items:center; padding:6px; border-radius:8px; cursor:pointer;}
  .team-item:hover{background:rgba(255,255,255,0.015)}
  img.thumb{width:36px;height:36px;border-radius:6px;object-fit:cover}
  footer.small{font-size:12px;color:var(--muted); text-align:center; margin-top:6px}
  @media (max-width:980px){ .container{grid-template-columns:1fr; } .logo-wrap{width:200px;height:200px} }
</style>
</head>
<body>
  <div class="container">
    <div class="card">
      <header>
        <div>
          <h1>CFB Clicker</h1>
          <div class="muted small">Click team logos to earn fans — build your fan empire</div>
        </div>
        <div class="score" id="score">0</div>
      </header>

      <div class="click-area">
        <div class="pops" style="width:100%; display:flex; justify-content:center;">
          <div id="popup" class="popup" style="display:none;">+0</div>
        </div>
        <div class="logo-wrap" id="logoWrap" title="Click to get fans">
          <!-- clickable logo renders here -->
          <img id="logo" class="logo" alt="team logo" draggable="false"/>
        </div>

        <div class="controls">
          <button class="btn" id="clickBtn">Click</button>
          <button class="btn" id="autoClickerBtn">Buy Auto-Clicker</button>
          <button class="btn" id="multBtn">Buy x2 Click</button>
        </div>

        <div class="panel" style="width:100%">
          <div class="row">
            <label class="small" style="flex:1">Active Team</label>
            <select id="teamSelect" style="min-width:160px"></select>
          </div>

          <div style="display:flex; gap:8px; align-items:center;">
            <input type="text" id="newTeamName" placeholder="Team name (e.g., Ohio State)" style="flex:1"/>
            <input type="text" id="newTeamURL" placeholder="Logo URL (optional)" style="flex:1"/>
          </div>
          <div style="display:flex; gap:8px;">
            <input type="file" id="logoFile" accept="image/*" class="btn"/>
            <button class="btn primary" id="addTeamBtn">Add Team</button>
          </div>

          <div style="display:flex; gap:8px; align-items:center; justify-content:space-between;">
            <div class="muted small">Fans per second: <span id="fps">0</span></div>
            <div class="muted small">Per click: <span id="ppc">1</span></div>
          </div>

          <div style="margin-top:6px;">
            <label class="small">Your Teams</label>
            <div class="teams-list" id="teamsList"></div>
          </div>
        </div>
      </div>

      <footer class="small">Progress saved locally in your browser.</footer>
    </div>

    <div class="card">
      <header>
        <h1>Upgrades & Stats</h1>
        <div class="muted small">Manage upgrades and view stats</div>
      </header>

      <div class="upgrades">
        <div class="upgrade">
          <div>
            <div style="font-weight:700">Auto-Clicker</div>
            <div class="muted small">Adds passive fans per second</div>
          </div>
          <div style="text-align:right">
            <div id="autoCount">0</div>
            <div class="muted small" id="autoCost">cost: 50</div>
          </div>
        </div>

        <div class="upgrade">
          <div>
            <div style="font-weight:700">Click Multiplier</div>
            <div class="muted small">Increase fans per click (stacking)</div>
          </div>
          <div style="text-align:right">
            <div id="multCount">0</div>
            <div class="muted small" id="multCost">cost: 100</div>
          </div>
        </div>

        <div class="upgrade">
          <div>
            <div style="font-weight:700">Prestige (reset)</div>
            <div class="muted small">Reset progress for permanent bonus (not implemented)</div>
          </div>
          <div style="text-align:right">
            <button class="btn" id="resetBtn">Reset</button>
          </div>
        </div>
      </div>

      <section style="margin-top:14px;">
        <h3 style="margin:0 0 8px 0">How to add all teams</h3>
        <div class="muted small">
          The game runs with whatever teams you add. To populate every CFB team:
          <ol style="padding-left:18px; margin:8px 0;">
            <li>Prepare a JSON list with {"name":"Team Name","logo":"https://url.to/logo.png"}</li>
            <li>Paste into the browser console as `localStorage.setItem('cfb_teams', JSON.stringify(YOUR_ARRAY))` and reload</li>
            <li>Or upload logo files one-by-one using the file input above</li>
          </ol>
        </div>
      </section>

      <section style="margin-top:12px;">
        <h3 style="margin:0 0 8px 0">Tips</h3>
        <div class="muted small">
          - Use smaller optimized logo images for best performance.<br>
          - You can also host logos on an image server and use URL links.<br>
          - Want me to pre-populate with all 130+ teams? Ask and I can provide a starter JSON list you paste into the console.
        </div>
      </section>
    </div>
  </div>

<script>
/* CFB Clicker — Client side only
   - Data saved in localStorage under keys: 'cfb_score', 'cfb_teams', 'cfb_state'
   - Teams: array of {name, logo (dataURL or URL)}
   - Includes sample teams so it runs out of the box.
*/

const STORAGE_KEYS = {teams:'cfb_teams', score:'cfb_score', state:'cfb_state'};

const sampleTeams = [
  {name:'Alabama', logo: svgDataURL('Ala','crimson')},
  {name:'Ohio State', logo: svgDataURL('OSU','#aa0000')},
  {name:'Clemson', logo: svgDataURL('Clem','#f66733')}
];

function svgDataURL(text, color='#666') {
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='500' height='500'>
    <rect width='100%' height='100%' fill='${color}' rx='60'/>
    <text x='50%' y='52%' font-family='Arial' font-size='160' fill='white' font-weight='700' text-anchor='middle' dominant-baseline='middle'>${text}</text>
  </svg>`;
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}

/* --- State --- */
let teams = loadTeams();
let state = loadState();
render();

// core variables
function loadTeams(){
  const raw = localStorage.getItem(STORAGE_KEYS.teams);
  if(raw) {
    try { return JSON.parse(raw); } catch(e) { console.warn('teams parse fail',e); }
  }
  // first run: store sample teams
  localStorage.setItem(STORAGE_KEYS.teams, JSON.stringify(sampleTeams));
  return sampleTeams.slice();
}

function saveTeams(){ localStorage.setItem(STORAGE_KEYS.teams, JSON.stringify(teams)); }

function loadState(){
  const def = {score:0, ppc:1, autoCount:0, multCount:0, activeTeamIndex:0};
  const raw = localStorage.getItem(STORAGE_KEYS.state);
  if(!raw) { localStorage.setItem(STORAGE_KEYS.state, JSON.stringify(def)); return def; }
  try { return Object.assign(def, JSON.parse(raw)); } catch(e) { localStorage.setItem(STORAGE_KEYS.state, JSON.stringify(def)); return def; }
}
function saveState(){ localStorage.setItem(STORAGE_KEYS.state, JSON.stringify(state)); }

/* --- UI refs --- */
const scoreEl = document.getElementById('score');
const logoEl = document.getElementById('logo');
const logoWrap = document.getElementById('logoWrap');
const teamSelect = document.getElementById('teamSelect');
const teamsList = document.getElementById('teamsList');
const ppcEl = document.getElementById('ppc');
const fpsEl = document.getElementById('fps');
const popup = document.getElementById('popup');

const autoCountEl = document.getElementById('autoCount');
const autoCostEl = document.getElementById('autoCost');
const multCountEl = document.getElementById('multCount');
const multCostEl = document.getElementById('multCost');

const clickBtn = document.getElementById('clickBtn');
const addTeamBtn = document.getElementById('addTeamBtn');
const logoFile = document.getElementById('logoFile');
const newTeamName = document.getElementById('newTeamName');
const newTeamURL = document.getElementById('newTeamURL');
const autoClickerBtn = document.getElementById('autoClickerBtn');
const multBtn = document.getElementById('multBtn');
const resetBtn = document.getElementById('resetBtn');

/* --- Pricing logic --- */
function autoCost(){ return Math.floor(50 * Math.pow(1.35, state.autoCount)); }
function multCost(){ return Math.floor(100 * Math.pow(1.6, state.multCount)); }

/* --- Render UI --- */
function render(){
  scoreEl.textContent = Math.floor(state.score);
  ppcEl.textContent = formatNumber(state.ppc);
  fpsEl.textContent = formatNumber(state.autoCount * 1);
  autoCountEl.textContent = state.autoCount;
  autoCostEl.textContent = 'cost: ' + formatNumber(autoCost());
  multCountEl.textContent = state.multCount;
  multCostEl.textContent = 'cost: ' + formatNumber(multCost());
  // teams
  teamSelect.innerHTML = '';
  teams.forEach((t,i)=>{
    const opt = document.createElement('option');
    opt.value = i; opt.textContent = t.name;
    teamSelect.appendChild(opt);
  });
  teamSelect.value = state.activeTeamIndex || 0;
  renderTeamsList();
  setActiveLogo();
  saveState();
  saveTeams();
}

function renderTeamsList(){
  teamsList.innerHTML = '';
  teams.forEach((t,i)=>{
    const el = document.createElement('div');
    el.className='team-item';
    el.innerHTML = `<img class='thumb' src='${t.logo}' alt='${t.name}'/><div style="flex:1;"><strong>${t.name}</strong><div class="muted small">${i===state.activeTeamIndex?'Active':''}</div></div>`;
    el.addEventListener('click', ()=>{ state.activeTeamIndex = i; render(); });
    teamsList.appendChild(el);
  });
}

function setActiveLogo(){
  const active = teams[state.activeTeamIndex] || teams[0];
  if(!active) return;
  logoEl.src = active.logo;
  logoEl.alt = active.name;
}

/* --- Click handling --- */
function doClick(manual=true){
  const gained = state.ppc;
  state.score += gained;
  flashPopup('+' + formatNumber(gained));
  // quick scale pop
  logoWrap.style.transform = 'scale(0.98)';
  setTimeout(()=>logoWrap.style.transform='scale(1)',120);
  render();
}

logoEl.addEventListener('click', ()=> doClick(true));
clickBtn.addEventListener('click', ()=> doClick(true));

function flashPopup(text){
  popup.textContent = text; popup.style.display='block'; popup.style.opacity=1;
  popup.animate([{transform:'translateY(0)', opacity:1},{transform:'translateY(-26px)', opacity:0}], {duration:700, easing:'ease-out'});
  setTimeout(()=>popup.style.display='none',700);
}

/* --- Upgrades --- */
autoClickerBtn.addEventListener('click', ()=>{
  const cost = autoCost();
  if(state.score >= cost){
    state.score -= cost;
    state.autoCount += 1;
    render();
  } else { toast('Not enough fans'); }
});
multBtn.addEventListener('click', ()=>{
  const cost = multCost();
  if(state.score >= cost){
    state.score -= cost;
    state.multCount += 1;
    // each mult increases ppc by x2 (stacking)
    state.ppc = 1 * Math.pow(2, state.multCount);
    render();
  } else { toast('Not enough fans'); }
});

resetBtn.addEventListener('click', ()=>{
  if(!confirm('Reset all progress? This cannot be undone.')) return;
  state = {score:0, ppc:1, autoCount:0, multCount:0, activeTeamIndex:0};
  localStorage.removeItem(STORAGE_KEYS.state);
  render();
});

/* --- Add teams --- */
addTeamBtn.addEventListener('click', async ()=>{
  const name = newTeamName.value.trim();
  const url = newTeamURL.value.trim();
  if(!name){ alert('Give the team a name'); return; }
  if(url){
    teams.push({name, logo:url});
    newTeamName.value = ''; newTeamURL.value = '';
    state.activeTeamIndex = teams.length -1;
    render(); return;
  }
  // if file loaded
  const file = logoFile.files[0];
  if(file){
    const data = await fileToDataURL(file);
    teams.push({name, logo:data});
    newTeamName.value=''; logoFile.value='';
    state.activeTeamIndex = teams.length -1;
    render();
    return;
  }
  alert('Provide either a logo file or a logo URL');
});
function fileToDataURL(file){ return new Promise((res,rej)=>{ const fr=new FileReader(); fr.onload=()=>res(fr.result); fr.onerror=rej; fr.readAsDataURL(file); }); }

/* --- Team selector change --- */
teamSelect.addEventListener('change', (e)=>{
  state.activeTeamIndex = Number(e.target.value);
  render();
});

/* --- Auto clicker loop --- */
setInterval(()=>{
  if(state.autoCount>0){
    state.score += state.autoCount * 1; // 1 fan per auto per second
    render();
  }
}, 1000);

/* --- Helpers --- */
function formatNumber(n){
  if(n>=1e9) return (n/1e9).toFixed(2) + 'B';
  if(n>=1e6) return (n/1e6).toFixed(2) + 'M';
  if(n>=1e3) return (n/1e3).toFixed(2) + 'K';
  return Math.floor(n).toString();
}
function toast(msg){ alert(msg); }

/* --- Save on unload periodically --- */
setInterval(saveState, 5000);
window.addEventListener('beforeunload', saveState);

/* Utility: allow clicking the wrapper to click as well */
logoWrap.addEventListener('click', ()=> doClick(true));

/* Optional: keyboard shortcuts */
window.addEventListener('keydown', (e)=>{
  if(e.key === ' ') { e.preventDefault(); doClick(); }
  if(e.key === 'a') autoClickerBtn.click();
  if(e.key === 'm') multBtn.click();
});

/* --- expose helpers for advanced user (in console) --- */
window.cfb = {
  teams, state,
  addTeamFromURL: (name,url) => { teams.push({name,logo:url}); saveTeams(); saveState(); render(); },
  importTeamsJSON: (arr) => { teams = arr; saveTeams(); render(); },
  exportState: ()=>({teams, state}),
};

/* Save initial state */
saveState();

</script>
</body>
</html>
